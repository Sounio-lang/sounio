//@ run-pass
// Test for-in loop syntax variations
// Issue #6: Document for-in loop support

fn main() with IO {
    // 1. Range iteration (exclusive): for i in start..end
    var sum = 0
    for i in 0..5 {
        sum = sum + i
    }
    // sum = 0 + 1 + 2 + 3 + 4 = 10

    // 2. Range iteration (inclusive): for i in start..=end
    var sum_inclusive = 0
    for i in 0..=5 {
        sum_inclusive = sum_inclusive + i
    }
    // sum_inclusive = 0 + 1 + 2 + 3 + 4 + 5 = 15

    // 3. Array iteration: for item in array
    let arr = [10, 20, 30]
    var arr_sum = 0
    for x in arr {
        arr_sum = arr_sum + x
    }
    // arr_sum = 60

    // 4. Vec iteration: for item in vec
    let vec: Vec<i32> = [1, 2, 3, 4]
    var vec_sum = 0
    for x in vec {
        vec_sum = vec_sum + x
    }
    // vec_sum = 10

    // 5. Nested for loops
    var matrix_sum = 0
    for i in 0..3 {
        for j in 0..3 {
            matrix_sum = matrix_sum + i * 3 + j
        }
    }
    // matrix_sum = sum of 0..9 = 36

    // 6. Range with variables
    let n = 5
    var var_range_sum = 0
    for i in 0..n {
        var_range_sum = var_range_sum + i
    }
    // var_range_sum = 10

    // 7. For loop with break
    var break_count = 0
    for i in 0..100 {
        if i >= 5 {
            break
        }
        break_count = break_count + 1
    }
    // break_count = 5

    // 8. For loop with continue
    var skip_sum = 0
    for i in 0..10 {
        if i % 2 == 0 {
            continue
        }
        skip_sum = skip_sum + i
    }
    // skip_sum = 1 + 3 + 5 + 7 + 9 = 25

    println("All for-in loop tests passed!")
}
