// Test struct field assignment in Sounio

struct Point {
    x: f64,
    y: f64
}

fn main() -> i32 {
    // Test 1: Basic struct creation
    let p1 = Point { x: 1.0, y: 2.0 }
    println("Test 1: Basic struct")
    println("  p1.x = ")
    println(p1.x)
    println("  p1.y = ")
    println(p1.y)

    // Test 2: Mutable struct field assignment
    let mut p2 = Point { x: 0.0, y: 0.0 }
    p2.x = 3.0
    p2.y = 4.0
    println("Test 2: Mutable field assignment")
    println("  p2.x = ")
    println(p2.x)
    println("  p2.y = ")
    println(p2.y)

    // Test 3: Assignment inside if block
    let mut p3 = Point { x: 0.0, y: 0.0 }
    let cond = 1
    if cond == 1 {
        p3.x = 5.0
    }
    println("Test 3: Assignment inside if")
    println("  p3.x = ")
    println(p3.x)

    // Test 4: Struct assignment (whole struct)
    let mut p4 = Point { x: 0.0, y: 0.0 }
    let p5 = Point { x: 6.0, y: 7.0 }
    if cond == 1 {
        p4 = p5
    }
    println("Test 4: Whole struct assignment inside if")
    println("  p4.x = ")
    println(p4.x)
    println("  p4.y = ")
    println(p4.y)

    // Test 5: Nested struct
    let mut p6 = Point { x: 0.0, y: 0.0 }
    let val = 8.0
    if cond == 1 {
        p6 = Point { x: val, y: 9.0 }
    }
    println("Test 5: New struct inside if")
    println("  p6.x = ")
    println(p6.x)
    println("  p6.y = ")
    println(p6.y)

    return 0
}
